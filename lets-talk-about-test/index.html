<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title></title>
<meta name="author" content="(Ville)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/css/reveal.css"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/css/theme/league.css" id="theme"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/lib/css/zenburn.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdn.jsdelivr.net/npm/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">

<section>
<section id="slide-orgf966d0e">
<h2 id="orgf966d0e">Let's talk about test</h2>
<p>
Höst 2019
</p>

<p>
<i>Ville Svärd</i>
</p>

</section>
</section>
<section>
<section id="slide-org1ee845f">
<h2 id="org1ee845f">Först - ett par ord om kvalitét och produktivitet</h2>
<div class="outline-text-2" id="text-org1ee845f">
</div>
</section>
<section id="slide-orgcc80f3d">
<h3 id="orgcc80f3d">Kvalitét kontra leveransförmåga</h3>
<ul class="fragment appear">
<li>Nä!</li>

</ul>

</section>
<section id="slide-orgc291801">
<h3 id="orgc291801">Höja kvalitét?</h3>
<ul class="fragment appear">
<li>Scope!</li>
<li>Iteration</li>
<li>Peer review</li>
<li>Kodkvalitét</li>
<li>Refactoring</li>
<li>(Automatiska) Test!</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgb8aa47d">
<h2 id="orgb8aa47d">Min bakgrund med test</h2>
<div class="outline-text-2" id="text-orgb8aa47d">
</div>
</section>
<section id="slide-org4a7aeca">
<h3 id="org4a7aeca">A long time ago in a galaxy far, far away</h3>

</section>
<section id="slide-org95eb14a">
<h3 id="org95eb14a">Jag skriver test för att</h3>
<div class="outline-text-3" id="text-org95eb14a">
</div>
</section>
<section id="slide-orgec9e513">
<h4 id="orgec9e513">&#x2026;jag är lat och bekväm</h4>
<ul>
<li>jag orkar inte hålla på att köra <span class="underline"><span class="underline">main</span></span> hela tiden</li>

</ul>

</section>
<section id="slide-org78655f3">
<h4 id="org78655f3">&#x2026;det låter mig jobba snabbare</h4>
<ul>
<li>och säkrare</li>

</ul>

</section>
<section id="slide-org2ad6bcb">
<h4 id="org2ad6bcb">&#x2026;och jag behöver inte hålla <i>allting</i> i huvudet hela tiden</h4>

</section>
<section id="slide-orgb0b9048">
<h4 id="orgb0b9048">&#x2026;och för att jag är glömsk och disträ</h4>

</section>
<section id="slide-orged99f8c">
<h4 id="orged99f8c">&#x2026;och för att jag vill veta att koden jag skrivit har <i>körts</i></h4>
<ul>
<li>och fortsätter bli körd, ofta</li>

</ul>

</section>
<section id="slide-org8a60728">
<h4 id="org8a60728">&#x2026;och för att jag ständigt behöver bli påmind</h4>
<ul>
<li>om att koden kan bli <i>lite enklare</i></li>
<li>om att koden kan bli <i>lite lättare att förstå</i></li>

</ul>

</section>
</section>
<section>
<section id="slide-org109eece">
<h2 id="org109eece">Unittest, Test First, Refactoring, TDD</h2>
<div class="outline-text-2" id="text-org109eece">
</div>
</section>
<section id="slide-org2864994">
<h3 id="org2864994">Varning för banala exempel!</h3>

</section>
<section id="slide-orgac1dd42">
<h3 id="orgac1dd42">Unittest</h3>
<p>
Testa hur <i>en bit logik</i> beter sig <i>i en situation</i>
</p>

</section>
<section id="slide-org4b6a9b3">
<h4 id="org4b6a9b3">Vad utmärker ett unittest</h4>
<ul>
<li class="fragment appear">Isolerat</li>
<li class="fragment appear">Snabbt</li>
<li class="fragment appear">Snabbt!</li>
<li class="fragment appear">Ja, snabbt!</li>
<li class="fragment appear">Enkelt (att förstå)</li>
<li class="fragment appear">Testar EN sak</li>

</ul>

</section>
<section id="slide-org5cd50ba">
<h4 id="org5cd50ba">Test runner</h4>
<ul>
<li>Test-köraren utmärker <i>inte</i> ett unittest</li>

</ul>


<div class="figure">
<p><img src="./images/runner.png" alt="runner.png" class="fragment (appear)" />
</p>
</div>

</section>
<section id="slide-org4922831">
<h3 id="org4922831"></h3>

<div class="figure">
<p><img src="./images/handy-right-about-now.png" alt="handy-right-about-now.png" />
</p>
</div>

</section>
<section id="slide-org0fb7bbc">
<h3 id="org0fb7bbc">Test first</h3>
<p>
Skriv ett (unit) test <i>före</i> implementationen
</p>

</section>
<section id="slide-org76d0904">
<h3 id="org76d0904"></h3>

<div class="figure">
<p><img src="./images/handy-right-about-now.png" alt="handy-right-about-now.png" />
</p>
</div>

</section>
<section id="slide-org23d2dcc">
<h4 id="org23d2dcc">Vad utmärker <i>Test First</i></h4>
<ul>
<li>Tänk ut och fundera på kontraktet <i>innan</i></li>
<li><i>Programming by wishful thinking</i></li>
<li>Hjälper mig komma framåt, ta första steget</li>

</ul>


</section>
<section id="slide-orga0c25da">
<h3 id="orga0c25da">Refactoring</h3>
<p>
Changing the structure of existing code <i>without changing its behaviour</i>
</p>

</section>
<section id="slide-orgaa4d766">
<h4 id="orgaa4d766">Vad utmärker refactoring</h4>
<ul>
<li>Förutsägbara ändringar - transformationer</li>
<li><i>Av existerande kod</i></li>
<li><i>Bakom en viss abstraktion</i> inte märkbara</li>
<li>Ändrar. Inte. Beteende.</li>

</ul>

</section>
<section id="slide-org41a6502">
<h3 id="org41a6502">TDD</h3>
<ul>
<li class="fragment highlight-red">RED: Write a <i>failing</i> test</li>
<li class="fragment highlight-green">GREEN: Write <i>just enough</i> code to make it pass</li>
<li class="fragment highlight-blue">REFACTOR: Make the code look like you want to leave it</li>

</ul>

</section>
<section id="slide-orgeb4b68a">
<h3 id="orgeb4b68a"></h3>

<div class="figure">
<p><img src="./images/handy-right-about-now.png" alt="handy-right-about-now.png" />
</p>
</div>


</section>
<section id="slide-org4e886e3">
<h4 id="org4e886e3">Vad utmärker TDD</h4>
<ul>
<li>Red -&gt; Green -&gt; Refactor</li>
<li><i>Lyssna</i> på tester
<ul>
<li>Är det svårt?</li>

</ul></li>
<li>Underhåll/refaktorera även testkod</li>
<li>Kör testet</li>
<li>Kör det igen</li>

</ul>

</section>
</section>
<section>
<section id="slide-orge74be96">
<h2 id="orge74be96">Test - när är det <i>värt</i> det?</h2>
<p class="fragment appear">
Alltid
</p>

</section>
<section id="slide-orgc8bb7df">
<h3 id="orgc8bb7df">Srsly</h3>
<p>
Testa kontrakt <i>vi vill skall hålla</i>
</p>

<p>
eller
</p>

<p>
Logik, saker <i>vi</i> kan <i>göra</i> eller <i>tänka</i> fel
</p>

<p>
eller
</p>

<p>
Testa sånt vi <i>vill veta när det går fel</i> (men kanske kan fixa lätt)
</p>

<p>
eller
</p>

<p>
Testa antaganden vi <i>vill veta när de inte längre stämmer</i>
</p>

</section>
</section>
<section>
<section id="slide-orgf84f353">
<h2 id="orgf84f353">Skriva BRA tester</h2>
<div class="outline-text-2" id="text-orgf84f353">
</div>
</section>
<section id="slide-org044836e">
<h3 id="org044836e">Snabbt</h3>
<ul>
<li>Jag vill kunna köra det <i>hela tiden</i> utan att behöva tänka</li>

</ul>

</section>
<section id="slide-org10bc6ec">
<h3 id="org10bc6ec">Isolerat</h3>
<ul>
<li>Undvik delat state och krånglig setup</li>
<li>Eller abstrahera det</li>

</ul>

</section>
<section id="slide-org291a9a3">
<h3 id="org291a9a3">Enkelt och kort med <i>ett bra namn</i></h3>
<ul>
<li>Jag vill veta direkt vilket antagande som inte stämmer när testet går fel</li>
<li>Helst bara genom att se på testet och output</li>

</ul>

</section>
<section id="slide-org4fded3f">
<h3 id="org4fded3f">Refaktorera testet</h3>
<ul>
<li><i>Precis som koden - testet är kod!</i></li>

</ul>

</section>
<section id="slide-orgbbed473">
<h3 id="orgbbed473">Kodvalitét</h3>
<ul>
<li>refaktorera</li>
<li>förbättra</li>
<li>förenkla</li>
<li>förtydliga</li>

</ul>

</section>
<section id="slide-orga122547">
<h3 id="orga122547">Använd <i>fixtures</i> för gemensam setup</h3>
<ul>
<li>refactorera även dem!</li>
<li>Duplicering är ett tecken på återanvändbar setup och/eller gemensamma beroenden</li>

</ul>

</section>
<section id="slide-org832b632">
<h3 id="org832b632">Läsbarhet</h3>
<ul>
<li>OM jag måste tittat på testet vill jag <i>då</i> omedelbart veta vad det gör</li>
<li>Gäller även assertions och felmeddelanden!</li>

</ul>

</section>
<section id="slide-org106c1f8">
<h3 id="org106c1f8">Gör data explicit</h3>
<ul>
<li>Skilj på data och test</li>
<li>Extrahera gärna till egna datastrukturer
<ul>
<li>Gör det tydligare</li>
<li>Gör att jag kan köra med andra datauppsättningar (utan att ändra testet)</li>
<li>Gör testet mindre känsligt för ändringar</li>

</ul></li>

</ul>

</section>
<section id="slide-orga66c798">
<h3 id="orga66c798">Tänk på om och hur du vill underhålla testet</h3>

</section>
</section>
<section>
<section id="slide-org6e3bd84">
<h2 id="org6e3bd84">Andra saker att prata om (någon annan gång)</h2>
<ul>
<li>Top-down vs Bottom-up/Outside-in vs inside-out</li>
<li>Komma igång med tester</li>
<li>Fakes, doubles, mocks</li>
<li>Mutation testing</li>
<li>Generative testing &amp; Property based testing</li>
<li>Andra typer av test (integration-, acceptance, end-to-end)
<ul>
<li>&#x2026;och varför vi tenderar att <i>inte</i> skriva sådana</li>

</ul></li>

</ul>
</section>
</section>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }]
});
</script>
</body>
</html>
